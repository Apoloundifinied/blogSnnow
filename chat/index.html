<!-- ...existing code... -->
<!-- Chat ao vivo com nickname -->
<!-- ...existing code... -->
<!-- Chat ao vivo com nickname -->
<section id="chat" class="bg-gruvbox_gray rounded-2xl shadow-xl p-6 mt-10 max-w-2xl mx-auto">
  <h2 class="text-xl font-semibold mb-4 text-gruvbox_yellow">Chat ao vivo</h2>
  <div class="flex flex-col h-80 bg-gruvbox_bg rounded-lg border border-gruvbox_yellow/30 p-4 overflow-y-auto mb-4"
    id="chatMessages">
    <!-- Mensagens aparecerão aqui -->
  </div>
  <form id="chatForm" class="flex gap-2">
    <input type="text" id="chatInput" maxlength="120"
      class="flex-1 px-3 py-2 rounded bg-gruvbox_gray text-gruvbox_fg border border-gruvbox_yellow focus:outline-none focus:ring-2 focus:ring-gruvbox_yellow"
      placeholder="Digite sua mensagem..." required>
    <button type="submit"
      class="px-4 py-2 rounded bg-gruvbox_yellow text-gruvbox_bg font-semibold text-xs shadow hover:bg-gruvbox_orange transition">
      Enviar
    </button>
  </form>
  <p class="text-xs text-gruvbox_fg/60 mt-2">Converse com a galera em tempo real!</p>
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
 <script>
  // Nickname prompt e armazenamento local
  let nickname = localStorage.getItem('nickname');
  if (!nickname) {
    nickname = prompt("Digite seu nick para participar do chat:");
    if (nickname && nickname.trim().length > 0) {
      nickname = nickname.trim();
      localStorage.setItem('nickname', nickname);
    } else {
      nickname = "Visitante";
      localStorage.setItem('nickname', nickname);
    }
  }

  const chatForm = document.getElementById('chatForm');
  const chatInput = document.getElementById('chatInput');
  const chatMessages = document.getElementById('chatMessages');

  // Conexão com o servidor Socket.io
  const socket = io(); // conecta ao mesmo host/porta automaticamente

  // Recebe mensagens do servidor
  socket.on('chat message', function (data) {
    const div = document.createElement('div');
    div.className = "mb-2 flex items-center";
    div.innerHTML = `<span class="bg-gruvbox_yellow/10 text-gruvbox_fg px-3 py-1 rounded-lg">
      <span class="font-bold text-gruvbox_yellow mr-2">${data.nickname}:</span> ${data.msg}
    </span>`;
    chatMessages.appendChild(div);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  });

  // Envia mensagem para o servidor
  chatForm.addEventListener('submit', function (e) {
    e.preventDefault();
    const msg = chatInput.value.trim();
    if (msg) {
      socket.emit('chat message', { nickname, msg }); // envia objeto com nickname e msg
      chatInput.value = ''; // limpa o input corretamente
    }
  });
</script>

</section>
<!-- ...existing code... -->
<!-- ...existing
